{"version":3,"sources":["../../../../public/plugins/pace/pace.js"],"names":["AjaxMonitor","Bar","DocumentMonitor","ElementMonitor","ElementTracker","EventLagMonitor","Evented","Events","NoTargetError","Pace","RequestIntercept","SOURCE_KEYS","Scaler","SocketRequestTracker","XHRRequestTracker","animation","avgAmplitude","bar","cancelAnimation","cancelAnimationFrame","defaultOptions","extend","extendNative","getFromDOM","getIntercept","handlePushState","ignoreStack","init","now","options","requestAnimationFrame","result","runAnimation","scalers","shouldIgnoreURL","shouldTrack","source","sources","uniScaler","_WebSocket","_XDomainRequest","_XMLHttpRequest","_i","_intercept","_len","_pushState","_ref","_ref1","_replaceState","__slice","slice","__hasProp","hasOwnProperty","__extends","child","parent","key","call","ctor","constructor","prototype","__super__","__indexOf","indexOf","item","i","l","length","catchupTime","initialRate","minTime","ghostTime","maxProgressPerFrame","easeFactor","startOnPageLoad","restartOnPushState","restartOnRequestAfter","target","elements","checkInterval","selectors","eventLag","minSamples","sampleCount","lagThreshold","ajax","trackMethods","trackWebSockets","ignoreURLs","performance","Date","window","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","mozCancelAnimationFrame","fn","setTimeout","id","clearTimeout","last","tick","diff","args","obj","arguments","apply","out","val","arr","count","sum","v","Math","abs","json","data","e","el","document","querySelector","getAttribute","JSON","parse","_error","console","error","on","event","handler","ctx","once","_base","bindings","push","off","_results","splice","trigger","paceOptions","_super","Error","progress","getElement","targetElement","createElement","className","body","replace","innerHTML","firstChild","insertBefore","appendChild","finish","update","prog","render","destroy","parentNode","removeChild","progressStr","transform","_j","_len1","_ref2","children","style","lastRenderedProgress","setAttribute","done","name","binding","XMLHttpRequest","XDomainRequest","WebSocket","to","from","Object","defineProperty","get","configurable","enumerable","ignore","ret","unshift","shift","track","method","toUpperCase","monitorXHR","_this","req","_open","open","type","url","async","request","flags","protocols","pattern","test","_arg","after","running","stillActive","_ref3","readyState","restart","watch","tracker","size","_onreadystatechange","ProgressEvent","addEventListener","evt","lengthComputable","loaded","total","onreadystatechange","selector","check","states","loading","interactive","complete","avg","interval","points","samples","setInterval","clearInterval","sinceLastUpdate","rate","catchup","lastProgress","frameTime","scaling","pow","min","max","history","pushState","replaceState","_k","_len2","_ref4","extraSources","stop","start","go","enqueueNextFrame","element","j","remaining","scaler","scalerList","_options","define","amd","exports","module"],"mappings":"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","file":"pace.js","sourcesContent":["(function() {\n  var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,\n    __slice = [].slice,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n  defaultOptions = {\n    catchupTime: 100,\n    initialRate: .03,\n    minTime: 250,\n    ghostTime: 100,\n    maxProgressPerFrame: 20,\n    easeFactor: 1.25,\n    startOnPageLoad: true,\n    restartOnPushState: true,\n    restartOnRequestAfter: 500,\n    target: 'body',\n    elements: {\n      checkInterval: 100,\n      selectors: ['body']\n    },\n    eventLag: {\n      minSamples: 10,\n      sampleCount: 3,\n      lagThreshold: 3\n    },\n    ajax: {\n      trackMethods: ['GET'],\n      trackWebSockets: true,\n      ignoreURLs: []\n    }\n  };\n\n  now = function() {\n    var _ref;\n    return (_ref = typeof performance !== \"undefined\" && performance !== null ? typeof performance.now === \"function\" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);\n  };\n\n  requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n\n  cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;\n\n  if (requestAnimationFrame == null) {\n    requestAnimationFrame = function(fn) {\n      return setTimeout(fn, 50);\n    };\n    cancelAnimationFrame = function(id) {\n      return clearTimeout(id);\n    };\n  }\n\n  runAnimation = function(fn) {\n    var last, tick;\n    last = now();\n    tick = function() {\n      var diff;\n      diff = now() - last;\n      if (diff >= 33) {\n        last = now();\n        return fn(diff, function() {\n          return requestAnimationFrame(tick);\n        });\n      } else {\n        return setTimeout(tick, 33 - diff);\n      }\n    };\n    return tick();\n  };\n\n  result = function() {\n    var args, key, obj;\n    obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n    if (typeof obj[key] === 'function') {\n      return obj[key].apply(obj, args);\n    } else {\n      return obj[key];\n    }\n  };\n\n  extend = function() {\n    var key, out, source, sources, val, _i, _len;\n    out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    for (_i = 0, _len = sources.length; _i < _len; _i++) {\n      source = sources[_i];\n      if (source) {\n        for (key in source) {\n          if (!__hasProp.call(source, key)) continue;\n          val = source[key];\n          if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {\n            extend(out[key], val);\n          } else {\n            out[key] = val;\n          }\n        }\n      }\n    }\n    return out;\n  };\n\n  avgAmplitude = function(arr) {\n    var count, sum, v, _i, _len;\n    sum = count = 0;\n    for (_i = 0, _len = arr.length; _i < _len; _i++) {\n      v = arr[_i];\n      sum += Math.abs(v);\n      count++;\n    }\n    return sum / count;\n  };\n\n  getFromDOM = function(key, json) {\n    var data, e, el;\n    if (key == null) {\n      key = 'options';\n    }\n    if (json == null) {\n      json = true;\n    }\n    el = document.querySelector(\"[data-pace-\" + key + \"]\");\n    if (!el) {\n      return;\n    }\n    data = el.getAttribute(\"data-pace-\" + key);\n    if (!json) {\n      return data;\n    }\n    try {\n      return JSON.parse(data);\n    } catch (_error) {\n      e = _error;\n      return typeof console !== \"undefined\" && console !== null ? console.error(\"Error parsing inline pace options\", e) : void 0;\n    }\n  };\n\n  Evented = (function() {\n    function Evented() {}\n\n    Evented.prototype.on = function(event, handler, ctx, once) {\n      var _base;\n      if (once == null) {\n        once = false;\n      }\n      if (this.bindings == null) {\n        this.bindings = {};\n      }\n      if ((_base = this.bindings)[event] == null) {\n        _base[event] = [];\n      }\n      return this.bindings[event].push({\n        handler: handler,\n        ctx: ctx,\n        once: once\n      });\n    };\n\n    Evented.prototype.once = function(event, handler, ctx) {\n      return this.on(event, handler, ctx, true);\n    };\n\n    Evented.prototype.off = function(event, handler) {\n      var i, _ref, _results;\n      if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {\n        return;\n      }\n      if (handler == null) {\n        return delete this.bindings[event];\n      } else {\n        i = 0;\n        _results = [];\n        while (i < this.bindings[event].length) {\n          if (this.bindings[event][i].handler === handler) {\n            _results.push(this.bindings[event].splice(i, 1));\n          } else {\n            _results.push(i++);\n          }\n        }\n        return _results;\n      }\n    };\n\n    Evented.prototype.trigger = function() {\n      var args, ctx, event, handler, i, once, _ref, _ref1, _results;\n      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n      if ((_ref = this.bindings) != null ? _ref[event] : void 0) {\n        i = 0;\n        _results = [];\n        while (i < this.bindings[event].length) {\n          _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;\n          handler.apply(ctx != null ? ctx : this, args);\n          if (once) {\n            _results.push(this.bindings[event].splice(i, 1));\n          } else {\n            _results.push(i++);\n          }\n        }\n        return _results;\n      }\n    };\n\n    return Evented;\n\n  })();\n\n  Pace = window.Pace || {};\n\n  window.Pace = Pace;\n\n  extend(Pace, Evented.prototype);\n\n  options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());\n\n  _ref = ['ajax', 'document', 'eventLag', 'elements'];\n  for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n    source = _ref[_i];\n    if (options[source] === true) {\n      options[source] = defaultOptions[source];\n    }\n  }\n\n  NoTargetError = (function(_super) {\n    __extends(NoTargetError, _super);\n\n    function NoTargetError() {\n      _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);\n      return _ref1;\n    }\n\n    return NoTargetError;\n\n  })(Error);\n\n  Bar = (function() {\n    function Bar() {\n      this.progress = 0;\n    }\n\n    Bar.prototype.getElement = function() {\n      var targetElement;\n      if (this.el == null) {\n        targetElement = document.querySelector(options.target);\n        if (!targetElement) {\n          throw new NoTargetError;\n        }\n        this.el = document.createElement('div');\n        this.el.className = \"pace pace-active\";\n        document.body.className = document.body.className.replace(/pace-done/g, '');\n        document.body.className += ' pace-running';\n        this.el.innerHTML = '<div class=\"pace-progress\">\\n  <div class=\"pace-progress-inner\"></div>\\n</div>\\n<div class=\"pace-activity\"></div>';\n        if (targetElement.firstChild != null) {\n          targetElement.insertBefore(this.el, targetElement.firstChild);\n        } else {\n          targetElement.appendChild(this.el);\n        }\n      }\n      return this.el;\n    };\n\n    Bar.prototype.finish = function() {\n      var el;\n      el = this.getElement();\n      el.className = el.className.replace('pace-active', '');\n      el.className += ' pace-inactive';\n      document.body.className = document.body.className.replace('pace-running', '');\n      return document.body.className += ' pace-done';\n    };\n\n    Bar.prototype.update = function(prog) {\n      this.progress = prog;\n      return this.render();\n    };\n\n    Bar.prototype.destroy = function() {\n      try {\n        this.getElement().parentNode.removeChild(this.getElement());\n      } catch (_error) {\n        NoTargetError = _error;\n      }\n      return this.el = void 0;\n    };\n\n    Bar.prototype.render = function() {\n      var el, key, progressStr, transform, _j, _len1, _ref2;\n      if (document.querySelector(options.target) == null) {\n        return false;\n      }\n      el = this.getElement();\n      transform = \"translate3d(\" + this.progress + \"%, 0, 0)\";\n      _ref2 = ['webkitTransform', 'msTransform', 'transform'];\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        key = _ref2[_j];\n        el.children[0].style[key] = transform;\n      }\n      if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {\n        el.children[0].setAttribute('data-progress-text', \"\" + (this.progress | 0) + \"%\");\n        if (this.progress >= 100) {\n          progressStr = '99';\n        } else {\n          progressStr = this.progress < 10 ? \"0\" : \"\";\n          progressStr += this.progress | 0;\n        }\n        el.children[0].setAttribute('data-progress', \"\" + progressStr);\n      }\n      return this.lastRenderedProgress = this.progress;\n    };\n\n    Bar.prototype.done = function() {\n      return this.progress >= 100;\n    };\n\n    return Bar;\n\n  })();\n\n  Events = (function() {\n    function Events() {\n      this.bindings = {};\n    }\n\n    Events.prototype.trigger = function(name, val) {\n      var binding, _j, _len1, _ref2, _results;\n      if (this.bindings[name] != null) {\n        _ref2 = this.bindings[name];\n        _results = [];\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n          binding = _ref2[_j];\n          _results.push(binding.call(this, val));\n        }\n        return _results;\n      }\n    };\n\n    Events.prototype.on = function(name, fn) {\n      var _base;\n      if ((_base = this.bindings)[name] == null) {\n        _base[name] = [];\n      }\n      return this.bindings[name].push(fn);\n    };\n\n    return Events;\n\n  })();\n\n  _XMLHttpRequest = window.XMLHttpRequest;\n\n  _XDomainRequest = window.XDomainRequest;\n\n  _WebSocket = window.WebSocket;\n\n  extendNative = function(to, from) {\n    var e, key, _results;\n    _results = [];\n    for (key in from.prototype) {\n      try {\n        if ((to[key] == null) && typeof from[key] !== 'function') {\n          if (typeof Object.defineProperty === 'function') {\n            _results.push(Object.defineProperty(to, key, {\n              get: function() {\n                return from.prototype[key];\n              },\n              configurable: true,\n              enumerable: true\n            }));\n          } else {\n            _results.push(to[key] = from.prototype[key]);\n          }\n        } else {\n          _results.push(void 0);\n        }\n      } catch (_error) {\n        e = _error;\n      }\n    }\n    return _results;\n  };\n\n  ignoreStack = [];\n\n  Pace.ignore = function() {\n    var args, fn, ret;\n    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    ignoreStack.unshift('ignore');\n    ret = fn.apply(null, args);\n    ignoreStack.shift();\n    return ret;\n  };\n\n  Pace.track = function() {\n    var args, fn, ret;\n    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    ignoreStack.unshift('track');\n    ret = fn.apply(null, args);\n    ignoreStack.shift();\n    return ret;\n  };\n\n  shouldTrack = function(method) {\n    var _ref2;\n    if (method == null) {\n      method = 'GET';\n    }\n    if (ignoreStack[0] === 'track') {\n      return 'force';\n    }\n    if (!ignoreStack.length && options.ajax) {\n      if (method === 'socket' && options.ajax.trackWebSockets) {\n        return true;\n      } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  RequestIntercept = (function(_super) {\n    __extends(RequestIntercept, _super);\n\n    function RequestIntercept() {\n      var monitorXHR,\n        _this = this;\n      RequestIntercept.__super__.constructor.apply(this, arguments);\n      monitorXHR = function(req) {\n        var _open;\n        _open = req.open;\n        return req.open = function(type, url, async) {\n          if (shouldTrack(type)) {\n            _this.trigger('request', {\n              type: type,\n              url: url,\n              request: req\n            });\n          }\n          return _open.apply(req, arguments);\n        };\n      };\n      window.XMLHttpRequest = function(flags) {\n        var req;\n        req = new _XMLHttpRequest(flags);\n        monitorXHR(req);\n        return req;\n      };\n      try {\n        extendNative(window.XMLHttpRequest, _XMLHttpRequest);\n      } catch (_error) {}\n      if (_XDomainRequest != null) {\n        window.XDomainRequest = function() {\n          var req;\n          req = new _XDomainRequest;\n          monitorXHR(req);\n          return req;\n        };\n        try {\n          extendNative(window.XDomainRequest, _XDomainRequest);\n        } catch (_error) {}\n      }\n      if ((_WebSocket != null) && options.ajax.trackWebSockets) {\n        window.WebSocket = function(url, protocols) {\n          var req;\n          if (protocols != null) {\n            req = new _WebSocket(url, protocols);\n          } else {\n            req = new _WebSocket(url);\n          }\n          if (shouldTrack('socket')) {\n            _this.trigger('request', {\n              type: 'socket',\n              url: url,\n              protocols: protocols,\n              request: req\n            });\n          }\n          return req;\n        };\n        try {\n          extendNative(window.WebSocket, _WebSocket);\n        } catch (_error) {}\n      }\n    }\n\n    return RequestIntercept;\n\n  })(Events);\n\n  _intercept = null;\n\n  getIntercept = function() {\n    if (_intercept == null) {\n      _intercept = new RequestIntercept;\n    }\n    return _intercept;\n  };\n\n  shouldIgnoreURL = function(url) {\n    var pattern, _j, _len1, _ref2;\n    _ref2 = options.ajax.ignoreURLs;\n    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n      pattern = _ref2[_j];\n      if (typeof pattern === 'string') {\n        if (url.indexOf(pattern) !== -1) {\n          return true;\n        }\n      } else {\n        if (pattern.test(url)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  getIntercept().on('request', function(_arg) {\n    var after, args, request, type, url;\n    type = _arg.type, request = _arg.request, url = _arg.url;\n    if (shouldIgnoreURL(url)) {\n      return;\n    }\n    if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {\n      args = arguments;\n      after = options.restartOnRequestAfter || 0;\n      if (typeof after === 'boolean') {\n        after = 0;\n      }\n      return setTimeout(function() {\n        var stillActive, _j, _len1, _ref2, _ref3, _results;\n        if (type === 'socket') {\n          stillActive = request.readyState < 2;\n        } else {\n          stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);\n        }\n        if (stillActive) {\n          Pace.restart();\n          _ref3 = Pace.sources;\n          _results = [];\n          for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {\n            source = _ref3[_j];\n            if (source instanceof AjaxMonitor) {\n              source.watch.apply(source, args);\n              break;\n            } else {\n              _results.push(void 0);\n            }\n          }\n          return _results;\n        }\n      }, after);\n    }\n  });\n\n  AjaxMonitor = (function() {\n    function AjaxMonitor() {\n      var _this = this;\n      this.elements = [];\n      getIntercept().on('request', function() {\n        return _this.watch.apply(_this, arguments);\n      });\n    }\n\n    AjaxMonitor.prototype.watch = function(_arg) {\n      var request, tracker, type, url;\n      type = _arg.type, request = _arg.request, url = _arg.url;\n      if (shouldIgnoreURL(url)) {\n        return;\n      }\n      if (type === 'socket') {\n        tracker = new SocketRequestTracker(request);\n      } else {\n        tracker = new XHRRequestTracker(request);\n      }\n      return this.elements.push(tracker);\n    };\n\n    return AjaxMonitor;\n\n  })();\n\n  XHRRequestTracker = (function() {\n    function XHRRequestTracker(request) {\n      var event, size, _j, _len1, _onreadystatechange, _ref2,\n        _this = this;\n      this.progress = 0;\n      if (window.ProgressEvent != null) {\n        size = null;\n        request.addEventListener('progress', function(evt) {\n          if (evt.lengthComputable) {\n            return _this.progress = 100 * evt.loaded / evt.total;\n          } else {\n            return _this.progress = _this.progress + (100 - _this.progress) / 2;\n          }\n        }, false);\n        _ref2 = ['load', 'abort', 'timeout', 'error'];\n        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n          event = _ref2[_j];\n          request.addEventListener(event, function() {\n            return _this.progress = 100;\n          }, false);\n        }\n      } else {\n        _onreadystatechange = request.onreadystatechange;\n        request.onreadystatechange = function() {\n          var _ref3;\n          if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {\n            _this.progress = 100;\n          } else if (request.readyState === 3) {\n            _this.progress = 50;\n          }\n          return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\n        };\n      }\n    }\n\n    return XHRRequestTracker;\n\n  })();\n\n  SocketRequestTracker = (function() {\n    function SocketRequestTracker(request) {\n      var event, _j, _len1, _ref2,\n        _this = this;\n      this.progress = 0;\n      _ref2 = ['error', 'open'];\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        event = _ref2[_j];\n        request.addEventListener(event, function() {\n          return _this.progress = 100;\n        }, false);\n      }\n    }\n\n    return SocketRequestTracker;\n\n  })();\n\n  ElementMonitor = (function() {\n    function ElementMonitor(options) {\n      var selector, _j, _len1, _ref2;\n      if (options == null) {\n        options = {};\n      }\n      this.elements = [];\n      if (options.selectors == null) {\n        options.selectors = [];\n      }\n      _ref2 = options.selectors;\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        selector = _ref2[_j];\n        this.elements.push(new ElementTracker(selector));\n      }\n    }\n\n    return ElementMonitor;\n\n  })();\n\n  ElementTracker = (function() {\n    function ElementTracker(selector) {\n      this.selector = selector;\n      this.progress = 0;\n      this.check();\n    }\n\n    ElementTracker.prototype.check = function() {\n      var _this = this;\n      if (document.querySelector(this.selector)) {\n        return this.done();\n      } else {\n        return setTimeout((function() {\n          return _this.check();\n        }), options.elements.checkInterval);\n      }\n    };\n\n    ElementTracker.prototype.done = function() {\n      return this.progress = 100;\n    };\n\n    return ElementTracker;\n\n  })();\n\n  DocumentMonitor = (function() {\n    DocumentMonitor.prototype.states = {\n      loading: 0,\n      interactive: 50,\n      complete: 100\n    };\n\n    function DocumentMonitor() {\n      var _onreadystatechange, _ref2,\n        _this = this;\n      this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;\n      _onreadystatechange = document.onreadystatechange;\n      document.onreadystatechange = function() {\n        if (_this.states[document.readyState] != null) {\n          _this.progress = _this.states[document.readyState];\n        }\n        return typeof _onreadystatechange === \"function\" ? _onreadystatechange.apply(null, arguments) : void 0;\n      };\n    }\n\n    return DocumentMonitor;\n\n  })();\n\n  EventLagMonitor = (function() {\n    function EventLagMonitor() {\n      var avg, interval, last, points, samples,\n        _this = this;\n      this.progress = 0;\n      avg = 0;\n      samples = [];\n      points = 0;\n      last = now();\n      interval = setInterval(function() {\n        var diff;\n        diff = now() - last - 50;\n        last = now();\n        samples.push(diff);\n        if (samples.length > options.eventLag.sampleCount) {\n          samples.shift();\n        }\n        avg = avgAmplitude(samples);\n        if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {\n          _this.progress = 100;\n          return clearInterval(interval);\n        } else {\n          return _this.progress = 100 * (3 / (avg + 3));\n        }\n      }, 50);\n    }\n\n    return EventLagMonitor;\n\n  })();\n\n  Scaler = (function() {\n    function Scaler(source) {\n      this.source = source;\n      this.last = this.sinceLastUpdate = 0;\n      this.rate = options.initialRate;\n      this.catchup = 0;\n      this.progress = this.lastProgress = 0;\n      if (this.source != null) {\n        this.progress = result(this.source, 'progress');\n      }\n    }\n\n    Scaler.prototype.tick = function(frameTime, val) {\n      var scaling;\n      if (val == null) {\n        val = result(this.source, 'progress');\n      }\n      if (val >= 100) {\n        this.done = true;\n      }\n      if (val === this.last) {\n        this.sinceLastUpdate += frameTime;\n      } else {\n        if (this.sinceLastUpdate) {\n          this.rate = (val - this.last) / this.sinceLastUpdate;\n        }\n        this.catchup = (val - this.progress) / options.catchupTime;\n        this.sinceLastUpdate = 0;\n        this.last = val;\n      }\n      if (val > this.progress) {\n        this.progress += this.catchup * frameTime;\n      }\n      scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);\n      this.progress += scaling * this.rate * frameTime;\n      this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);\n      this.progress = Math.max(0, this.progress);\n      this.progress = Math.min(100, this.progress);\n      this.lastProgress = this.progress;\n      return this.progress;\n    };\n\n    return Scaler;\n\n  })();\n\n  sources = null;\n\n  scalers = null;\n\n  bar = null;\n\n  uniScaler = null;\n\n  animation = null;\n\n  cancelAnimation = null;\n\n  Pace.running = false;\n\n  handlePushState = function() {\n    if (options.restartOnPushState) {\n      return Pace.restart();\n    }\n  };\n\n  if (window.history.pushState != null) {\n    _pushState = window.history.pushState;\n    window.history.pushState = function() {\n      handlePushState();\n      return _pushState.apply(window.history, arguments);\n    };\n  }\n\n  if (window.history.replaceState != null) {\n    _replaceState = window.history.replaceState;\n    window.history.replaceState = function() {\n      handlePushState();\n      return _replaceState.apply(window.history, arguments);\n    };\n  }\n\n  SOURCE_KEYS = {\n    ajax: AjaxMonitor,\n    elements: ElementMonitor,\n    document: DocumentMonitor,\n    eventLag: EventLagMonitor\n  };\n\n  (init = function() {\n    var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;\n    Pace.sources = sources = [];\n    _ref2 = ['ajax', 'elements', 'document', 'eventLag'];\n    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n      type = _ref2[_j];\n      if (options[type] !== false) {\n        sources.push(new SOURCE_KEYS[type](options[type]));\n      }\n    }\n    _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];\n    for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {\n      source = _ref4[_k];\n      sources.push(new source(options));\n    }\n    Pace.bar = bar = new Bar;\n    scalers = [];\n    return uniScaler = new Scaler;\n  })();\n\n  Pace.stop = function() {\n    Pace.trigger('stop');\n    Pace.running = false;\n    bar.destroy();\n    cancelAnimation = true;\n    if (animation != null) {\n      if (typeof cancelAnimationFrame === \"function\") {\n        cancelAnimationFrame(animation);\n      }\n      animation = null;\n    }\n    return init();\n  };\n\n  Pace.restart = function() {\n    Pace.trigger('restart');\n    Pace.stop();\n    return Pace.start();\n  };\n\n  Pace.go = function() {\n    var start;\n    Pace.running = true;\n    bar.render();\n    start = now();\n    cancelAnimation = false;\n    return animation = runAnimation(function(frameTime, enqueueNextFrame) {\n      var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;\n      remaining = 100 - bar.progress;\n      count = sum = 0;\n      done = true;\n      for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {\n        source = sources[i];\n        scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];\n        elements = (_ref2 = source.elements) != null ? _ref2 : [source];\n        for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {\n          element = elements[j];\n          scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);\n          done &= scaler.done;\n          if (scaler.done) {\n            continue;\n          }\n          count++;\n          sum += scaler.tick(frameTime);\n        }\n      }\n      avg = sum / count;\n      bar.update(uniScaler.tick(frameTime, avg));\n      if (bar.done() || done || cancelAnimation) {\n        bar.update(100);\n        Pace.trigger('done');\n        return setTimeout(function() {\n          bar.finish();\n          Pace.running = false;\n          return Pace.trigger('hide');\n        }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));\n      } else {\n        return enqueueNextFrame();\n      }\n    });\n  };\n\n  Pace.start = function(_options) {\n    extend(options, _options);\n    Pace.running = true;\n    try {\n      bar.render();\n    } catch (_error) {\n      NoTargetError = _error;\n    }\n    if (!document.querySelector('.pace')) {\n      return setTimeout(Pace.start, 50);\n    } else {\n      Pace.trigger('start');\n      return Pace.go();\n    }\n  };\n\n  if (typeof define === 'function' && define.amd) {\n    define(['pace'], function() {\n      return Pace;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = Pace;\n  } else {\n    if (options.startOnPageLoad) {\n      Pace.start();\n    }\n  }\n\n}).call(this);\n"]}